<!DOCTYPE html>
<html dir="rtl" lang="ar">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
  <meta name="theme-color" content="#00796B"/>
  <meta name="description" content="Ù†Ø´Ø§Ø· Ø§Ù„Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ø¹Ø´ÙˆØ§Ø¦ÙŠ Ù„Ù„Ø·Ù„Ø§Ø¨ - Ù…Ø¯Ø±Ø³Ø© Ø£Ø¨Ùˆ Ø§Ù„Ù‚Ø§Ø³Ù… Ø§Ù„Ø²Ù‡Ø±Ø§ÙˆÙŠ"/>
  <meta name="keywords" content="Ø§Ø®ØªÙŠØ§Ø± Ø¹Ø´ÙˆØ§Ø¦ÙŠ, Ø·Ù„Ø§Ø¨, ØªÙØ§Ø¹Ù„ÙŠ, ØªØ¹Ù„ÙŠÙ…, Ù…Ø¯Ø±Ø³Ø©, Ø¹ÙÙ…Ø§Ù†"/>
  <meta name="author" content="Ø§Ù„Ø£Ø³ØªØ§Ø° Ø£Ø­Ù…Ø¯ Ø¨Ù† Ø¹Ø¨Ø¯Ø§Ù„Ù„Ù‡ Ø§Ù„Ø¶Ø§Ù…Ø±ÙŠ"/>

  <title>Ø§Ù„Ø§Ø³Ù… Ø§Ù„Ø¹Ø´ÙˆØ§Ø¦ÙŠ - Ø§Ù„Ø£Ù†Ø´Ø·Ø© Ø§Ù„ØµÙÙŠØ©</title>

  <!-- Ø§Ù„Ø®Ø·ÙˆØ· ÙˆØ§Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø§Øª -->
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700&display=swap" rel="stylesheet"/>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

  <!-- ÙØ§ÙÙŠÙƒÙˆÙ† -->
  <link rel="icon" type="image/png" href="../assets/media/images/school-logo.png">

  <style>
    :root {
      /* Ù†Ø¸Ø§Ù… Ø£Ù„ÙˆØ§Ù† Ø¹ÙÙ…Ø§Ù†ÙŠ Ù…ØªØ·ÙˆØ± */
      --primary-color: #00796B;
      --primary-light: #4DB6AC;
      --primary-dark: #004D40;
      --secondary-color: #FF5722;
      --accent-color: #FFD700;
      --success-color: #4CAF50;
      --warning-color: #FF9800;
      --error-color: #F44336;
      --text-primary: #212121;
      --text-secondary: #757575;
      --background-light: #FAFAFA;
      --surface-color: #FFFFFF;
      --shadow-light: rgba(0, 0, 0, 0.1);
      --shadow-medium: rgba(0, 0, 0, 0.2);
      --shadow-dark: rgba(0, 0, 0, 0.3);

      /* Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„ØªØ®Ø·ÙŠØ· */
      --border-radius: 16px;
      --border-radius-small: 8px;
      --spacing-xs: 4px;
      --spacing-sm: 8px;
      --spacing-md: 16px;
      --spacing-lg: 24px;
      --spacing-xl: 32px;

      /* Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„Ø§Øª */
      --transition-fast: 0.2s ease-out;
      --transition-normal: 0.3s ease-out;
      --transition-slow: 0.5s ease-out;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: 'Cairo', sans-serif;
      background: linear-gradient(135deg,
        #e0f7fa 0%,
        #b2dfdb 25%,
        #80cbc4 50%,
        #4db6ac 75%,
        #26a69a 100%);
      background-attachment: fixed;
      color: var(--text-primary);
      min-height: 100vh;
      position: relative;
      overflow-x: hidden;
    }

    /* Ø®Ù„ÙÙŠØ© Ù…ØªØ­Ø±ÙƒØ© */
    body::before {
      content: '';
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background:
        radial-gradient(circle at 20% 20%, rgba(255, 215, 0, 0.1) 0%, transparent 50%),
        radial-gradient(circle at 80% 80%, rgba(0, 121, 107, 0.1) 0%, transparent 50%),
        radial-gradient(circle at 40% 60%, rgba(255, 87, 34, 0.1) 0%, transparent 50%);
      animation: backgroundShift 20s ease-in-out infinite;
      z-index: -1;
    }

    @keyframes backgroundShift {
      0%, 100% { transform: translate(0, 0) rotate(0deg); }
      25% { transform: translate(-20px, 20px) rotate(1deg); }
      50% { transform: translate(20px, -20px) rotate(-1deg); }
      75% { transform: translate(-10px, -10px) rotate(0.5deg); }
    }

    /* Ø£Ø²Ø±Ø§Ø± Ø§Ù„ØªØ­ÙƒÙ… */
    .control-buttons {
      position: fixed;
      top: var(--spacing-md);
      display: flex;
      gap: var(--spacing-sm);
      z-index: 1000;
    }

    .control-buttons.left {
      left: var(--spacing-md);
    }

    .control-buttons.right {
      right: var(--spacing-md);
    }

    .control-btn {
      width: 50px;
      height: 50px;
      border-radius: 50%;
      border: none;
      background: rgba(255, 255, 255, 0.9);
      color: var(--primary-color);
      font-size: 20px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 4px 12px var(--shadow-medium);
      transition: all var(--transition-normal);
      backdrop-filter: blur(10px);
    }

    .control-btn:hover {
      transform: translateY(-3px) scale(1.05);
      background: var(--primary-color);
      color: white;
      box-shadow: 0 8px 20px var(--shadow-dark);
    }

    .control-btn:active {
      transform: translateY(0) scale(0.95);
    }

    /* Ø§Ù„Ø­Ø§ÙˆÙŠ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ */
    .main-container {
      max-width: 1000px;
      margin: 0 auto;
      padding: var(--spacing-xl) var(--spacing-lg);
      position: relative;
      z-index: 10;
    }

    /* Ø±Ø£Ø³ Ø§Ù„ØµÙØ­Ø© */
    .header {
      text-align: center;
      margin-bottom: var(--spacing-xl);
      animation: slideDown 0.8s ease-out;
    }

    .header-card {
      background: rgba(255, 255, 255, 0.95);
      border-radius: var(--border-radius);
      padding: var(--spacing-xl);
      box-shadow: 0 8px 32px var(--shadow-medium);
      backdrop-filter: blur(15px);
      border: 1px solid rgba(255, 255, 255, 0.2);
      position: relative;
      overflow: hidden;
    }

    .header-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 4px;
      background: linear-gradient(90deg, var(--primary-color), var(--secondary-color), var(--accent-color));
    }

    .header-title {
      font-size: clamp(2rem, 5vw, 2.5rem);
      font-weight: 700;
      margin-bottom: var(--spacing-sm);
      color: var(--primary-color);
      text-shadow: 2px 2px 4px var(--shadow-light);
      display: flex;
      align-items: center;
      justify-content: center;
      gap: var(--spacing-sm);
    }

    .header-subtitle {
      font-size: clamp(1rem, 3vw, 1.2rem);
      color: var(--text-secondary);
      font-weight: 400;
      line-height: 1.5;
    }

    /* Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„ØµÙ */
    .class-selector {
      background: rgba(255, 255, 255, 0.95);
      border-radius: var(--border-radius);
      padding: var(--spacing-lg);
      margin-bottom: var(--spacing-xl);
      box-shadow: 0 4px 20px var(--shadow-light);
      backdrop-filter: blur(10px);
      animation: slideUp 0.8s ease-out 0.2s both;
    }

    .class-selector h3 {
      font-size: 1.3rem;
      color: var(--primary-color);
      margin-bottom: var(--spacing-md);
      text-align: center;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: var(--spacing-sm);
    }

    .class-select {
      width: 100%;
      padding: var(--spacing-md);
      border: 2px solid rgba(0, 121, 107, 0.2);
      border-radius: var(--border-radius-small);
      font-size: 1.1rem;
      background: var(--surface-color);
      color: var(--text-primary);
      transition: all var(--transition-normal);
      font-family: 'Cairo', sans-serif;
      text-align: center;
    }

    .class-select:focus {
      outline: none;
      border-color: var(--primary-color);
      box-shadow: 0 0 0 3px rgba(0, 121, 107, 0.1);
      transform: scale(1.02);
    }

    /* Ù…Ù†Ø·Ù‚Ø© Ø¹Ø±Ø¶ Ø§Ù„Ù†ØªÙŠØ¬Ø© */
    .result-display {
      background: rgba(255, 255, 255, 0.95);
      border-radius: var(--border-radius);
      padding: var(--spacing-xl);
      margin-bottom: var(--spacing-xl);
      box-shadow: 0 8px 32px var(--shadow-medium);
      backdrop-filter: blur(15px);
      min-height: 300px;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      position: relative;
      overflow: hidden;
      animation: slideUp 0.8s ease-out 0.4s both;
    }

    .result-display::before {
      content: '';
      position: absolute;
      top: -50%;
      left: -50%;
      width: 200%;
      height: 200%;
      background: linear-gradient(45deg, 
        transparent 30%, 
        rgba(255, 215, 0, 0.1) 50%, 
        transparent 70%);
      animation: shimmer 4s infinite;
      pointer-events: none;
    }

    @keyframes shimmer {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }

    .rolling-animation {
      position: relative;
      min-height: 120px;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .rolling-names {
      position: absolute;
      font-size: clamp(1.5rem, 5vw, 2.5rem);
      font-weight: 600;
      color: var(--secondary-color);
      opacity: 0.7;
      animation: roll 0.1s infinite;
    }

    @keyframes roll {
      0% { transform: translateY(-30px); opacity: 0; }
      50% { opacity: 1; }
      100% { transform: translateY(30px); opacity: 0; }
    }

    .selected-name {
      font-size: clamp(2rem, 7vw, 3.5rem);
      font-weight: 700;
      color: var(--primary-color);
      text-shadow: 3px 3px 6px var(--shadow-medium);
      z-index: 10;
      position: relative;
      text-align: center;
      animation: nameAppear 0.8s ease-out;
    }

    @keyframes nameAppear {
      0% { 
        opacity: 0; 
        transform: scale(0.5) rotate(-10deg); 
      }
      50% { 
        transform: scale(1.1) rotate(5deg); 
      }
      100% { 
        opacity: 1; 
        transform: scale(1) rotate(0deg); 
      }
    }

    .welcome-message {
      font-size: clamp(1.2rem, 4vw, 1.8rem);
      color: var(--text-secondary);
      text-align: center;
      line-height: 1.6;
      animation: fadeIn 1s ease-out;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    /* Ø£Ø²Ø±Ø§Ø± Ø§Ù„ØªØ­ÙƒÙ… Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© */
    .main-controls {
      display: flex;
      flex-wrap: wrap;
      gap: var(--spacing-md);
      justify-content: center;
      margin-bottom: var(--spacing-xl);
      animation: slideUp 0.8s ease-out 0.6s both;
    }

    .main-btn {
      padding: var(--spacing-md) var(--spacing-xl);
      font-size: clamp(1rem, 3vw, 1.2rem);
      font-weight: 600;
      border: none;
      border-radius: var(--border-radius-small);
      cursor: pointer;
      transition: all var(--transition-normal);
      display: flex;
      align-items: center;
      gap: var(--spacing-sm);
      min-width: 140px;
      justify-content: center;
      box-shadow: 0 4px 12px var(--shadow-light);
      font-family: 'Cairo', sans-serif;
    }

    .main-btn:disabled {
      opacity: 0.6;
      cursor: not-allowed;
      transform: none !important;
    }

    .start-btn {
      background: linear-gradient(45deg, var(--success-color), #66BB6A);
      color: white;
    }

    .start-btn:hover:not(:disabled) {
      transform: translateY(-3px) scale(1.05);
      box-shadow: 0 8px 20px rgba(76, 175, 80, 0.4);
    }

    .stop-btn {
      background: linear-gradient(45deg, var(--error-color), #EF5350);
      color: white;
    }

    .stop-btn:hover:not(:disabled) {
      transform: translateY(-3px) scale(1.05);
      box-shadow: 0 8px 20px rgba(244, 67, 54, 0.4);
    }

    .remove-btn {
      background: linear-gradient(45deg, var(--warning-color), #FFB74D);
      color: white;
    }

    .remove-btn:hover:not(:disabled) {
      transform: translateY(-3px) scale(1.05);
      box-shadow: 0 8px 20px rgba(255, 152, 0, 0.4);
    }

    .reset-btn {
      background: linear-gradient(45deg, var(--text-secondary), #9E9E9E);
      color: white;
    }

    .reset-btn:hover:not(:disabled) {
      transform: translateY(-3px) scale(1.05);
      box-shadow: 0 8px 20px rgba(158, 158, 158, 0.4);
    }

    /* Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø§Ø®ØªÙŠØ§Ø± */
    .settings-panel {
      background: rgba(255, 255, 255, 0.95);
      border-radius: var(--border-radius);
      padding: var(--spacing-lg);
      margin-bottom: var(--spacing-xl);
      box-shadow: 0 4px 20px var(--shadow-light);
      backdrop-filter: blur(10px);
      animation: slideUp 0.8s ease-out 0.8s both;
    }

    .settings-panel h3 {
      font-size: 1.2rem;
      color: var(--primary-color);
      margin-bottom: var(--spacing-md);
      text-align: center;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: var(--spacing-sm);
    }

    .settings-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: var(--spacing-md);
    }

    .setting-item {
      text-align: center;
    }

    .setting-label {
      display: block;
      margin-bottom: var(--spacing-sm);
      color: var(--text-secondary);
      font-weight: 500;
      font-size: 0.9rem;
    }

    .speed-slider {
      width: 100%;
      -webkit-appearance: none;
      appearance: none;
      height: 8px;
      background: linear-gradient(to right, var(--error-color), var(--warning-color), var(--success-color));
      border-radius: var(--border-radius-small);
      outline: none;
      transition: all var(--transition-normal);
    }

    .speed-slider::-webkit-slider-thumb {
      -webkit-appearance: none;
      appearance: none;
      width: 24px;
      height: 24px;
      background: var(--primary-color);
      border-radius: 50%;
      cursor: pointer;
      box-shadow: 0 2px 6px var(--shadow-medium);
      transition: all var(--transition-fast);
    }

    .speed-slider::-webkit-slider-thumb:hover {
      transform: scale(1.2);
      box-shadow: 0 4px 12px var(--shadow-dark);
    }

    .speed-slider::-moz-range-thumb {
      width: 24px;
      height: 24px;
      background: var(--primary-color);
      border-radius: 50%;
      cursor: pointer;
      border: none;
      box-shadow: 0 2px 6px var(--shadow-medium);
      transition: all var(--transition-fast);
    }

    .speed-value {
      margin-top: var(--spacing-sm);
      font-weight: 600;
      color: var(--primary-color);
      font-size: 0.9rem;
    }

    /* Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø·Ù„Ø§Ø¨ */
    .student-info {
      background: rgba(255, 255, 255, 0.95);
      border-radius: var(--border-radius);
      padding: var(--spacing-lg);
      box-shadow: 0 4px 20px var(--shadow-light);
      backdrop-filter: blur(10px);
      animation: slideUp 0.8s ease-out 1s both;
    }

    .student-info h3 {
      font-size: 1.2rem;
      color: var(--primary-color);
      margin-bottom: var(--spacing-md);
      text-align: center;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: var(--spacing-sm);
    }

    .student-stats {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
      gap: var(--spacing-md);
      text-align: center;
    }

    .stat-item {
      background: linear-gradient(135deg, rgba(0, 121, 107, 0.1), rgba(77, 182, 172, 0.1));
      padding: var(--spacing-md);
      border-radius: var(--border-radius-small);
      border: 2px solid rgba(0, 121, 107, 0.2);
    }

    .stat-number {
      font-size: 1.8rem;
      font-weight: 700;
      color: var(--primary-color);
      margin-bottom: var(--spacing-xs);
    }

    .stat-label {
      font-size: 0.85rem;
      color: var(--text-secondary);
      font-weight: 500;
    }

    /* ØªØ£Ø«ÙŠØ±Ø§Øª Ø§Ù„Ø­Ø±ÙƒØ© */
    @keyframes slideDown {
      from {
        opacity: 0;
        transform: translateY(-30px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    @keyframes slideUp {
      from {
        opacity: 0;
        transform: translateY(30px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    /* Ø§Ù„ØªØ¬Ø§ÙˆØ¨ Ù…Ø¹ Ø§Ù„Ø´Ø§Ø´Ø§Øª Ø§Ù„Ù…Ø®ØªÙ„ÙØ© */
    @media (max-width: 768px) {
      .main-container {
        padding: var(--spacing-lg) var(--spacing-md);
      }
      
      .main-controls {
        flex-direction: column;
        align-items: center;
      }
      
      .main-btn {
        width: 100%;
        max-width: 300px;
      }
      
      .control-btn {
        width: 45px;
        height: 45px;
        font-size: 18px;
      }
      
      .settings-grid {
        grid-template-columns: 1fr;
      }
      
      .student-stats {
        grid-template-columns: repeat(2, 1fr);
      }
    }

    @media (max-width: 480px) {
      .header-card {
        padding: var(--spacing-lg);
      }
      
      .result-display {
        padding: var(--spacing-lg);
        min-height: 250px;
      }
      
      .student-stats {
        grid-template-columns: 1fr;
      }
    }

    /* ØªØ­Ø³ÙŠÙ†Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ© Ù„Ù„Ø£Ø¯Ø§Ø¡ */
    .main-btn,
    .control-btn {
      will-change: transform;
    }

    /* ØªØ£Ø«ÙŠØ±Ø§Øª Ø§Ù„ØªØ±ÙƒÙŠØ² Ù„Ù„ÙˆØµÙˆÙ„ÙŠØ© */
    .main-btn:focus,
    .control-btn:focus,
    .class-select:focus,
    .speed-slider:focus {
      outline: 3px solid rgba(0, 121, 107, 0.5);
      outline-offset: 2px;
    }

    /* ØªØ£Ø«ÙŠØ± Ø§Ù„Ù†Ù‚Ø± */
    .click-effect {
      position: relative;
      overflow: hidden;
    }

    .click-effect::after {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      width: 0;
      height: 0;
      border-radius: 50%;
      background: rgba(0, 121, 107, 0.3);
      transform: translate(-50%, -50%);
      animation: ripple 0.6s ease-out;
    }

    @keyframes ripple {
      to {
        width: 300px;
        height: 300px;
        opacity: 0;
      }
    }

    /* Ø­Ø§Ù„Ø§Øª Ø®Ø§ØµØ© */
    .pulsing {
      animation: pulse 2s infinite;
    }

    @keyframes pulse {
      0% { transform: scale(1); }
      50% { transform: scale(1.05); }
      100% { transform: scale(1); }
    }

    .celebration {
      animation: celebrate 1s ease-out;
    }

    @keyframes celebrate {
      0% { transform: scale(1) rotate(0deg); }
      25% { transform: scale(1.1) rotate(-5deg); }
      50% { transform: scale(1.2) rotate(5deg); }
      75% { transform: scale(1.1) rotate(-2deg); }
      100% { transform: scale(1) rotate(0deg); }
    }
  </style>
</head>

<body>
  <!-- Ø£Ø²Ø±Ø§Ø± Ø§Ù„ØªØ­ÙƒÙ… -->
  <div class="control-buttons right">
    <button class="control-btn" id="backBtn" title="Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©" aria-label="Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©">
      ğŸ 
    </button>
  </div>

  <div class="control-buttons left">
    <button class="control-btn" id="fullscreenBtn" title="Ù…Ù„Ø¡ Ø§Ù„Ø´Ø§Ø´Ø©" aria-label="Ù…Ù„Ø¡ Ø§Ù„Ø´Ø§Ø´Ø©">
      â›¶
    </button>
  </div>

  <!-- Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ -->
  <div class="main-container">
    <!-- Ø±Ø£Ø³ Ø§Ù„ØµÙØ­Ø© -->
    <header class="header">
      <div class="header-card">
        <h1 class="header-title">
          <span>ğŸ¯</span>
          <span>Ø§Ù„Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ø¹Ø´ÙˆØ§Ø¦ÙŠ Ù„Ù„Ø·Ù„Ø§Ø¨</span>
        </h1>
        <p class="header-subtitle">
          Ø§Ø®ØªØ± Ø·Ø§Ù„Ø¨Ø§Ù‹ Ø¨Ø´ÙƒÙ„ Ø¹Ø´ÙˆØ§Ø¦ÙŠ ÙˆØ¹Ø§Ø¯Ù„ Ù„Ø¨Ø¯Ø¡ Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ© Ø£Ùˆ ØªÙ†ÙÙŠØ° Ø§Ù„Ù†Ø´Ø§Ø· Ø§Ù„ØµÙÙŠ
        </p>
      </div>
    </header>

    <!-- Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„ØµÙ -->
    <div class="class-selector">
      <h3>
        <span>ğŸ“</span>
        <span>Ø§Ø®ØªØ± Ø§Ù„ØµÙ Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠ</span>
      </h3>
      <select class="class-select" id="classSelect">
        <option value="">-- Ø§Ø®ØªØ± Ø§Ù„ØµÙ --</option>
      </select>
    </div>

    <!-- Ù…Ù†Ø·Ù‚Ø© Ø¹Ø±Ø¶ Ø§Ù„Ù†ØªÙŠØ¬Ø© -->
    <div class="result-display" id="resultDisplay">
      <div class="rolling-animation" id="rollingAnimation">
        <div class="welcome-message" id="welcomeMessage">
          ğŸ‘‹ Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ ÙÙŠ Ù†Ø´Ø§Ø· Ø§Ù„Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ø¹Ø´ÙˆØ§Ø¦ÙŠ<br>
          Ø§Ø®ØªØ± Ø§Ù„ØµÙ Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠ Ø£ÙˆÙ„Ø§Ù‹ Ù„Ø¨Ø¯Ø¡ Ø§Ù„Ù…ØªØ¹Ø©!
        </div>
      </div>
    </div>

    <!-- Ø£Ø²Ø±Ø§Ø± Ø§Ù„ØªØ­ÙƒÙ… Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© -->
    <div class="main-controls">
      <button class="main-btn start-btn" id="startBtn" disabled>
        <span>ğŸš€</span>
        <span>Ø§Ø¨Ø¯Ø£ Ø§Ù„Ø§Ø®ØªÙŠØ§Ø±</span>
      </button>
      <button class="main-btn stop-btn" id="stopBtn" disabled>
        <span>â¹ï¸</span>
        <span>ØªÙˆÙ‚Ù</span>
      </button>
      <button class="main-btn remove-btn" id="removeBtn" disabled>
        <span>âŒ</span>
        <span>Ø§Ø³ØªØ¨Ø¹Ø§Ø¯ Ø§Ù„Ø·Ø§Ù„Ø¨</span>
      </button>
      <button class="main-btn reset-btn" id="resetBtn" disabled>
        <span>ğŸ”„</span>
        <span>Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ†</span>
      </button>
    </div>

    <!-- Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø§Ø®ØªÙŠØ§Ø± -->
    <div class="settings-panel">
      <h3>
        <span>âš™ï¸</span>
        <span>Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø§Ø®ØªÙŠØ§Ø±</span>
      </h3>
      <div class="settings-grid">
        <div class="setting-item">
          <label class="setting-label" for="speedSlider">Ø³Ø±Ø¹Ø© Ø§Ù„ØªØ¯ÙˆÙŠØ±</label>
          <input type="range" id="speedSlider" class="speed-slider" min="50" max="300" value="150">
          <div class="speed-value" id="speedValue">Ù…ØªÙˆØ³Ø·</div>
        </div>
        <div class="setting-item">
          <label class="setting-label" for="durationSlider">Ù…Ø¯Ø© Ø§Ù„ØªØ¯ÙˆÙŠØ±</label>
          <input type="range" id="durationSlider" class="speed-slider" min="1" max="10" value="3">
          <div class="speed-value" id="durationValue">3 Ø«ÙˆØ§Ù†</div>
        </div>
      </div>
    </div>

    <!-- Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø·Ù„Ø§Ø¨ -->
    <div class="student-info" id="studentInfo" style="display: none;">
      <h3>
        <span>ğŸ“Š</span>
        <span>Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ø·Ù„Ø§Ø¨</span>
      </h3>
      <div class="student-stats">
        <div class="stat-item">
          <div class="stat-number" id="totalStudents">0</div>
          <div class="stat-label">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø·Ù„Ø§Ø¨</div>
        </div>
        <div class="stat-item">
          <div class="stat-number" id="remainingStudents">0</div>
          <div class="stat-label">Ø·Ù„Ø§Ø¨ Ù…ØªØ¨Ù‚ÙˆÙ†</div>
        </div>
        <div class="stat-item">
          <div class="stat-number" id="selectedCount">0</div>
          <div class="stat-label">ØªÙ… Ø§Ø®ØªÙŠØ§Ø±Ù‡Ù…</div>
        </div>
        <div class="stat-item">
          <div class="stat-number" id="removedCount">0</div>
          <div class="stat-label">ØªÙ… Ø§Ø³ØªØ¨Ø¹Ø§Ø¯Ù‡Ù…</div>
        </div>
      </div>
    </div>
  </div>

  <!-- Ø§Ù„Ø£ØµÙˆØ§Øª -->
  <audio id="rollingSound" src="../assets/media/sounds/name-start.mp3" preload="auto" aria-hidden="true"></audio>
  <audio id="selectSound" src="../assets/media/sounds/name-stop.mp3" preload="auto" aria-hidden="true"></audio>
  <audio id="clickSound" src="../assets/media/sounds/Click.mp3" preload="auto" aria-hidden="true"></audio>
  <audio id="celebrationSound" src="../assets/media/sounds/clap.mp3" preload="auto" aria-hidden="true"></audio>

  <script>
    console.log('ğŸ¯ Ø¨Ø¯Ø¡ ØªØ­Ù…ÙŠÙ„ Ù†Ø´Ø§Ø· Ø§Ù„Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ø¹Ø´ÙˆØ§Ø¦ÙŠ...');

    // Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ù†Ø´Ø§Ø·
    let currentStudents = [];
    let availableStudents = [];
    let removedStudents = [];
    let selectedStudents = [];
    let isRolling = false;
    let rollingInterval = null;
    let currentSelectedName = '';
    let rollingSpeed = 150;
    let rollingDuration = 3000;

    // Ø¹Ù†Ø§ØµØ± DOM
    const elements = {
      classSelect: document.getElementById('classSelect'),
      resultDisplay: document.getElementById('resultDisplay'),
      rollingAnimation: document.getElementById('rollingAnimation'),
      welcomeMessage: document.getElementById('welcomeMessage'),
      startBtn: document.getElementById('startBtn'),
      stopBtn: document.getElementById('stopBtn'),
      removeBtn: document.getElementById('removeBtn'),
      resetBtn: document.getElementById('resetBtn'),
      speedSlider: document.getElementById('speedSlider'),
      durationSlider: document.getElementById('durationSlider'),
      speedValue: document.getElementById('speedValue'),
      durationValue: document.getElementById('durationValue'),
      studentInfo: document.getElementById('studentInfo'),
      totalStudents: document.getElementById('totalStudents'),
      remainingStudents: document.getElementById('remainingStudents'),
      selectedCount: document.getElementById('selectedCount'),
      removedCount: document.getElementById('removedCount'),
      backBtn: document.getElementById('backBtn'),
      fullscreenBtn: document.getElementById('fullscreenBtn'),
      rollingSound: document.getElementById('rollingSound'),
      selectSound: document.getElementById('selectSound'),
      clickSound: document.getElementById('clickSound'),
      celebrationSound: document.getElementById('celebrationSound')
    };

    // ØªØ´ØºÙŠÙ„ Ø§Ù„ØµÙˆØª Ù…Ø¹ Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø£Ø®Ø·Ø§Ø¡
    function playSound(soundElement) {
      try {
        if (soundElement && soundElement.readyState >= 2) {
          soundElement.currentTime = 0;
          const playPromise = soundElement.play();
          if (playPromise !== undefined) {
            playPromise.catch(() => {
              console.log('ğŸ”‡ ØªØ¹Ø°Ø± ØªØ´ØºÙŠÙ„ Ø§Ù„ØµÙˆØª (ÙŠØªØ·Ù„Ø¨ ØªÙØ§Ø¹Ù„ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…)');
            });
          }
        }
      } catch (error) {
        console.log('ğŸ”‡ Ø®Ø·Ø£ ÙÙŠ ØªØ´ØºÙŠÙ„ Ø§Ù„ØµÙˆØª:', error);
      }
    }

    // ØªØ£Ø«ÙŠØ±Ø§Øª Ø¨ØµØ±ÙŠØ© Ù„Ù„Ù†Ù‚Ø±
    function addClickEffect(element) {
      element.style.transform = 'scale(0.95)';
      setTimeout(() => {
        element.style.transform = '';
      }, 150);
    }

    // ÙˆØ¸ÙŠÙØ© Ù…Ù„Ø¡ Ø§Ù„Ø´Ø§Ø´Ø©
    async function toggleFullScreen() {
      try {
        if (!document.fullscreenElement) {
          await document.documentElement.requestFullscreen();
          console.log('ğŸ–¥ï¸ ØªÙ… ØªÙØ¹ÙŠÙ„ Ù…Ù„Ø¡ Ø§Ù„Ø´Ø§Ø´Ø©');
        } else {
          await document.exitFullscreen();
          console.log('ğŸ–¥ï¸ ØªÙ… Ø¥Ù„ØºØ§Ø¡ Ù…Ù„Ø¡ Ø§Ù„Ø´Ø§Ø´Ø©');
        }
      } catch (error) {
        console.warn('âš ï¸ ÙØ´Ù„ ÙÙŠ ØªØºÙŠÙŠØ± ÙˆØ¶Ø¹ Ù…Ù„Ø¡ Ø§Ù„Ø´Ø§Ø´Ø©:', error);
      }
    }

    // ØªØ­Ù…ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø·Ù„Ø§Ø¨
    async function loadStudentData() {
      try {
        console.log('ğŸ“š Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø·Ù„Ø§Ø¨...');
        const response = await fetch('../data/studentData.json');
        
        if (!response.ok) {
          throw new Error('ÙØ´Ù„ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø·Ù„Ø§Ø¨');
        }
        
        const data = await response.json();
        console.log('âœ… ØªÙ… ØªØ­Ù…ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø·Ù„Ø§Ø¨:', data);
        
        // ØªØ¹Ø¨Ø¦Ø© Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„ØµÙÙˆÙ Ù…Ù† Ø§Ù„Ø¨Ù†ÙŠØ© Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©
        if (data && typeof data === 'object') {
          Object.keys(data).forEach(className => {
            if (Array.isArray(data[className]) && data[className].length > 0) {
              const option = document.createElement('option');
              option.value = className;
              option.textContent = `Ø§Ù„ØµÙ ${className}`;
              elements.classSelect.appendChild(option);
            }
          });
        }
        
        return data;
        
      } catch (error) {
        console.error('âŒ Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø·Ù„Ø§Ø¨:', error);
        // Ø¥Ù†Ø´Ø§Ø¡ Ø¨ÙŠØ§Ù†Ø§Øª ØªØ¬Ø±ÙŠØ¨ÙŠØ©
        createDemoData();
        return null;
      }
    }

    // Ø¥Ù†Ø´Ø§Ø¡ Ø¨ÙŠØ§Ù†Ø§Øª ØªØ¬Ø±ÙŠØ¨ÙŠØ©
    function createDemoData() {
      console.log('ğŸ­ Ø¥Ù†Ø´Ø§Ø¡ Ø¨ÙŠØ§Ù†Ø§Øª ØªØ¬Ø±ÙŠØ¨ÙŠØ©...');
      
      const demoData = {
        'Ø§Ù„Ø®Ø§Ù…Ø³ Ø£': ['Ø£Ø­Ù…Ø¯ Ù…Ø­Ù…Ø¯', 'ÙØ§Ø·Ù…Ø© Ø¹Ù„ÙŠ', 'ÙŠÙˆØ³Ù Ø³Ø§Ù„Ù…', 'Ù…Ø±ÙŠÙ… Ø®Ø§Ù„Ø¯', 'Ø¹Ø¨Ø¯Ø§Ù„Ù„Ù‡ Ø³Ø¹ÙŠØ¯', 'Ù†ÙˆØ± Ø§Ù„Ø¯ÙŠÙ†', 'Ù‡Ù†Ø¯ Ø¹Ø¨Ø¯Ø§Ù„Ù„Ù‡', 'Ù…Ø­Ù…Ø¯ ÙŠÙˆØ³Ù'],
        'Ø§Ù„Ø®Ø§Ù…Ø³ Ø¨': ['Ø³Ø§Ø±Ø© Ø£Ø­Ù…Ø¯', 'Ø¹Ù„ÙŠ Ù…Ø­Ù…Ø¯', 'Ù„ÙŠÙ†Ø§ Ø³Ø§Ù„Ù…', 'Ø­Ù…Ø²Ø© Ø¹Ù„ÙŠ', 'Ø²ÙŠÙ†Ø¨ Ù…Ø­Ù…Ø¯', 'Ø¹Ù…Ø± Ø®Ø§Ù„Ø¯', 'Ø±ÙŠÙ… Ø³Ø¹ÙŠØ¯', 'Ø®Ø§Ù„Ø¯ Ø£Ø­Ù…Ø¯'],
        'Ø§Ù„Ø³Ø§Ø¯Ø³ Ø£': ['Ù…Ù†Ù‰ Ø¹Ù„ÙŠ', 'Ù…Ø­Ù…ÙˆØ¯ Ø³Ø§Ù„Ù…', 'Ø¯ÙŠÙ†Ø§ Ù…Ø­Ù…Ø¯', 'Ø·Ø§Ø±Ù‚ Ø£Ø­Ù…Ø¯', 'Ø±ÙŠÙ…Ø§ Ø®Ø§Ù„Ø¯', 'Ø³Ù„Ø·Ø§Ù† Ø¹Ù„ÙŠ', 'Ù†ÙˆØ§Ù„ Ù…Ø­Ù…Ø¯', 'ÙÙŠØµÙ„ Ø³Ø¹ÙŠØ¯']
      };

      Object.keys(demoData).forEach(className => {
        const option = document.createElement('option');
        option.value = className;
        option.textContent = `Ø§Ù„ØµÙ ${className}`;
        elements.classSelect.appendChild(option);
      });

      // Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ØªØ¬Ø±ÙŠØ¨ÙŠØ©
      window.demoStudentData = demoData;
    }

    // ØªØ­Ø¯ÙŠØ« Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø·Ù„Ø§Ø¨ Ø¹Ù†Ø¯ ØªØºÙŠÙŠØ± Ø§Ù„ØµÙ
    async function updateStudentList(className) {
      if (!className) {
        currentStudents = [];
        availableStudents = [];
        resetActivity();
        return;
      }

      try {
        let studentData = null;
        
        // Ù…Ø­Ø§ÙˆÙ„Ø© ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠØ©
        try {
          const response = await fetch('../data/studentData.json');
          if (response.ok) {
            studentData = await response.json();
          }
        } catch (error) {
          console.log('Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ØªØ¬Ø±ÙŠØ¨ÙŠØ©');
        }
        
        // Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ØªØ¬Ø±ÙŠØ¨ÙŠØ© Ø¥Ø°Ø§ Ù„Ù… ØªØªÙˆÙØ± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠØ©
        if (!studentData && window.demoStudentData) {
          studentData = window.demoStudentData;
        }
        
        if (studentData) {
          // Ø§Ù„ØªØ¹Ø§Ù…Ù„ Ù…Ø¹ Ø§Ù„Ø¨Ù†ÙŠØ© Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© Ù„Ù„Ø¨ÙŠØ§Ù†Ø§Øª
          let studentsArray = null;
          
          if (studentData[className] && Array.isArray(studentData[className])) {
            // Ø§Ù„Ø¨Ù†ÙŠØ© Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©: Ù…ÙØªØ§Ø­ Ù…Ø¨Ø§Ø´Ø± Ù„Ù„ØµÙ
            studentsArray = studentData[className];
          } else if (studentData.classes) {
            // Ø§Ù„Ø¨Ù†ÙŠØ© Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø©: classes array (Ù„Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ØªØ¬Ø±ÙŠØ¨ÙŠØ© Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø©)
            const selectedClass = studentData.classes.find(cls => cls.className === className);
            if (selectedClass && selectedClass.students) {
              studentsArray = selectedClass.students;
            }
          }
          
          if (studentsArray && studentsArray.length > 0) {
            currentStudents = [...studentsArray];
            availableStudents = [...studentsArray];
            removedStudents = [];
            selectedStudents = [];
            
            updateUI();
            updateStats();
            showStudentInfo();
            
            console.log(`âœ… ØªÙ… ØªØ­Ù…ÙŠÙ„ ${currentStudents.length} Ø·Ø§Ù„Ø¨ Ù…Ù† Ø§Ù„ØµÙ ${className}`);
          } else {
            console.warn(`âš ï¸ Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø·Ù„Ø§Ø¨ ÙÙŠ Ø§Ù„ØµÙ ${className}`);
            alert(`âš ï¸ Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø·Ù„Ø§Ø¨ ÙÙŠ Ø§Ù„ØµÙ ${className}!`);
          }
        }
        
      } catch (error) {
        console.error('âŒ Ø®Ø·Ø£ ÙÙŠ ØªØ­Ø¯ÙŠØ« Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø·Ù„Ø§Ø¨:', error);
      }
    }

    // ØªØ­Ø¯ÙŠØ« ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
    function updateUI() {
      const hasStudents = availableStudents.length > 0;
      
      elements.startBtn.disabled = !hasStudents || isRolling;
      elements.stopBtn.disabled = !isRolling;
      elements.removeBtn.disabled = !currentSelectedName || isRolling;
      elements.resetBtn.disabled = currentStudents.length === 0;
      
      if (hasStudents && !currentSelectedName) {
        showWelcomeMessage();
      }
    }

    // Ø¹Ø±Ø¶ Ø±Ø³Ø§Ù„Ø© Ø§Ù„ØªØ±Ø­ÙŠØ¨
    function showWelcomeMessage() {
      elements.rollingAnimation.innerHTML = `
        <div class="welcome-message">
          ğŸ¯ Ø§Ù„ØµÙ Ù…Ø­Ø¯Ø¯ ÙˆÙ†Ø­Ù† Ø¬Ø§Ù‡Ø²ÙˆÙ†!<br>
          ${availableStudents.length} Ø·Ø§Ù„Ø¨ Ù…ØªØ§Ø­ Ù„Ù„Ø§Ø®ØªÙŠØ§Ø±
        </div>
      `;
    }

    // Ø¨Ø¯Ø¡ Ø¹Ù…Ù„ÙŠØ© Ø§Ù„Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ø¹Ø´ÙˆØ§Ø¦ÙŠ
    function startSelection() {
      if (availableStudents.length === 0) {
        alert('âš ï¸ Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø·Ù„Ø§Ø¨ Ù…ØªØ§Ø­ÙˆÙ† Ù„Ù„Ø§Ø®ØªÙŠØ§Ø±!');
        return;
      }

      isRolling = true;
      currentSelectedName = '';
      updateUI();
      
      playSound(elements.rollingSound);
      
      // Ø¥Ø²Ø§Ù„Ø© Ø£ÙŠ Ù…Ø­ØªÙˆÙ‰ Ø³Ø§Ø¨Ù‚
      elements.rollingAnimation.innerHTML = '';
      
      // Ø¥Ù†Ø´Ø§Ø¡ Ø¹Ù†ØµØ± Ø§Ù„ØªØ¯ÙˆÙŠØ±
      const rollingElement = document.createElement('div');
      rollingElement.className = 'rolling-names';
      elements.rollingAnimation.appendChild(rollingElement);
      
      // Ø¨Ø¯Ø¡ Ø§Ù„ØªØ¯ÙˆÙŠØ±
      rollingInterval = setInterval(() => {
        const randomIndex = Math.floor(Math.random() * availableStudents.length);
        rollingElement.textContent = availableStudents[randomIndex];
      }, rollingSpeed);
      
      // Ø¥ÙŠÙ‚Ø§Ù Ø§Ù„ØªØ¯ÙˆÙŠØ± Ø¨Ø¹Ø¯ Ø§Ù„Ù…Ø¯Ø© Ø§Ù„Ù…Ø­Ø¯Ø¯Ø©
      setTimeout(() => {
        if (isRolling) {
          stopSelection();
        }
      }, rollingDuration);
      
      console.log('ğŸ² Ø¨Ø¯Ø¡ Ø¹Ù…Ù„ÙŠØ© Ø§Ù„Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ø¹Ø´ÙˆØ§Ø¦ÙŠ');
    }

    // Ø¥ÙŠÙ‚Ø§Ù Ø¹Ù…Ù„ÙŠØ© Ø§Ù„Ø§Ø®ØªÙŠØ§Ø±
    function stopSelection() {
      if (!isRolling || availableStudents.length === 0) return;
      
      clearInterval(rollingInterval);
      isRolling = false;
      
      // Ø§Ø®ØªÙŠØ§Ø± Ø·Ø§Ù„Ø¨ Ø¹Ø´ÙˆØ§Ø¦ÙŠ Ù†Ù‡Ø§Ø¦ÙŠ
      const randomIndex = Math.floor(Math.random() * availableStudents.length);
      currentSelectedName = availableStudents[randomIndex];
      
      // Ø¥Ø¶Ø§ÙØ© Ø¥Ù„Ù‰ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ø®ØªØ§Ø±ÙŠÙ†
      selectedStudents.push(currentSelectedName);
      
      // Ø¹Ø±Ø¶ Ø§Ù„Ù†ØªÙŠØ¬Ø©
      showSelectedName(currentSelectedName);
      
      playSound(elements.selectSound);
      setTimeout(() => {
        playSound(elements.celebrationSound);
      }, 500);
      
      updateUI();
      updateStats();
      
      console.log(`âœ… ØªÙ… Ø§Ø®ØªÙŠØ§Ø±: ${currentSelectedName}`);
    }

    // Ø¹Ø±Ø¶ Ø§Ù„Ø§Ø³Ù… Ø§Ù„Ù…Ø®ØªØ§Ø±
    function showSelectedName(name) {
      elements.rollingAnimation.innerHTML = `
        <div class="selected-name celebration">
          ğŸ‰ ${name} ğŸ‰
        </div>
      `;
      
      // Ø¥Ø¶Ø§ÙØ© ØªØ£Ø«ÙŠØ± Ø§Ù„Ø§Ø­ØªÙØ§Ù„
      elements.resultDisplay.classList.add('pulsing');
      setTimeout(() => {
        elements.resultDisplay.classList.remove('pulsing');
      }, 2000);
    }

    // Ø§Ø³ØªØ¨Ø¹Ø§Ø¯ Ø§Ù„Ø·Ø§Ù„Ø¨ Ø§Ù„Ù…Ø®ØªØ§Ø±
    function removeSelectedStudent() {
      if (!currentSelectedName) return;
      
      // Ø¥Ø¶Ø§ÙØ© Ø¥Ù„Ù‰ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ø³ØªØ¨Ø¹Ø¯ÙŠÙ†
      removedStudents.push(currentSelectedName);
      
      // Ø¥Ø²Ø§Ù„Ø© Ù…Ù† Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…ØªØ§Ø­ÙŠÙ†
      const index = availableStudents.indexOf(currentSelectedName);
      if (index > -1) {
        availableStudents.splice(index, 1);
      }
      
      // Ø¥Ø²Ø§Ù„Ø© Ù…Ù† Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ø®ØªØ§Ø±ÙŠÙ†
      const selectedIndex = selectedStudents.indexOf(currentSelectedName);
      if (selectedIndex > -1) {
        selectedStudents.splice(selectedIndex, 1);
      }
      
      currentSelectedName = '';
      
      if (availableStudents.length > 0) {
        showWelcomeMessage();
      } else {
        elements.rollingAnimation.innerHTML = `
          <div class="welcome-message">
            ğŸ ØªÙ… Ø§Ø³ØªØ¨Ø¹Ø§Ø¯ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø·Ù„Ø§Ø¨!<br>
            Ø§Ø³ØªØ®Ø¯Ù… Ø²Ø± "Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ†" Ù„Ø¨Ø¯Ø¡ Ù…Ù† Ø¬Ø¯ÙŠØ¯
          </div>
        `;
      }
      
      updateUI();
      updateStats();
      
      console.log(`âŒ ØªÙ… Ø§Ø³ØªØ¨Ø¹Ø§Ø¯: ${removedStudents[removedStudents.length - 1]}`);
    }

    // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ù†Ø´Ø§Ø·
    function resetActivity() {
      clearInterval(rollingInterval);
      isRolling = false;
      currentSelectedName = '';
      
      if (currentStudents.length > 0) {
        availableStudents = [...currentStudents];
        removedStudents = [];
        selectedStudents = [];
        showWelcomeMessage();
        showStudentInfo();
      } else {
        hideStudentInfo();
        elements.rollingAnimation.innerHTML = `
          <div class="welcome-message">
            ğŸ‘‹ Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ ÙÙŠ Ù†Ø´Ø§Ø· Ø§Ù„Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ø¹Ø´ÙˆØ§Ø¦ÙŠ<br>
            Ø§Ø®ØªØ± Ø§Ù„ØµÙ Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠ Ø£ÙˆÙ„Ø§Ù‹ Ù„Ø¨Ø¯Ø¡ Ø§Ù„Ù…ØªØ¹Ø©!
          </div>
        `;
      }
      
      updateUI();
      updateStats();
      
      console.log('ğŸ”„ ØªÙ… Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ù†Ø´Ø§Ø·');
    }

    // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª
    function updateStats() {
      elements.totalStudents.textContent = currentStudents.length;
      elements.remainingStudents.textContent = availableStudents.length;
      elements.selectedCount.textContent = selectedStudents.length;
      elements.removedCount.textContent = removedStudents.length;
    }

    // Ø¥Ø¸Ù‡Ø§Ø± Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø·Ù„Ø§Ø¨
    function showStudentInfo() {
      elements.studentInfo.style.display = 'block';
    }

    // Ø¥Ø®ÙØ§Ø¡ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø·Ù„Ø§Ø¨
    function hideStudentInfo() {
      elements.studentInfo.style.display = 'none';
    }

    // ØªØ­Ø¯ÙŠØ« Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø³Ø±Ø¹Ø©
    function updateSpeedSettings() {
      rollingSpeed = parseInt(elements.speedSlider.value);
      rollingDuration = parseInt(elements.durationSlider.value) * 1000;
      
      // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù†ØµÙˆØµ
      const speedLabels = {
        50: 'Ø³Ø±ÙŠØ¹ Ø¬Ø¯Ø§Ù‹',
        100: 'Ø³Ø±ÙŠØ¹',
        150: 'Ù…ØªÙˆØ³Ø·',
        200: 'Ø¨Ø·ÙŠØ¡',
        250: 'Ø¨Ø·ÙŠØ¡ Ø¬Ø¯Ø§Ù‹',
        300: 'Ø¨Ø·ÙŠØ¡ Ù„Ù„ØºØ§ÙŠØ©'
      };
      
      const closestSpeed = Object.keys(speedLabels).reduce((prev, curr) => 
        Math.abs(curr - rollingSpeed) < Math.abs(prev - rollingSpeed) ? curr : prev
      );
      
      elements.speedValue.textContent = speedLabels[closestSpeed];
      elements.durationValue.textContent = `${rollingDuration / 1000} Ø«ÙˆØ§Ù†`;
    }

    // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ù†Ø´Ø§Ø·
    async function initializeActivity() {
      console.log('âš¡ Ø¬Ø§Ø±ÙŠ ØªÙ‡ÙŠØ¦Ø© Ù†Ø´Ø§Ø· Ø§Ù„Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ø¹Ø´ÙˆØ§Ø¦ÙŠ...');
      
      await loadStudentData();
      updateSpeedSettings();
      updateUI();
      
      console.log('ğŸ‰ ØªÙ… ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù†Ø´Ø§Ø· Ø¨Ù†Ø¬Ø§Ø­!');
    }

    // Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø£Ø­Ø¯Ø§Ø«
    document.addEventListener('DOMContentLoaded', () => {
      console.log('ğŸ“„ ØªÙ… ØªØ­Ù…ÙŠÙ„ DOM - Ø¨Ø¯Ø¡ ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ø£Ø­Ø¯Ø§Ø«...');
      
      // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ù†Ø´Ø§Ø·
      initializeActivity();

      // Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„ØµÙ
      elements.classSelect.addEventListener('change', (e) => {
        console.log(`ğŸ“ ØªÙ… Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„ØµÙ: ${e.target.value}`);
        updateStudentList(e.target.value);
      });

      // Ø£Ø²Ø±Ø§Ø± Ø§Ù„ØªØ­ÙƒÙ… Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
      elements.startBtn.addEventListener('click', (e) => {
        console.log('ğŸš€ ØªÙ… Ø§Ù„Ù†Ù‚Ø± Ø¹Ù„Ù‰ Ø²Ø± Ø§Ù„Ø¨Ø¯Ø¡');
        addClickEffect(e.target);
        playSound(elements.clickSound);
        startSelection();
      });

      elements.stopBtn.addEventListener('click', (e) => {
        console.log('â¹ï¸ ØªÙ… Ø§Ù„Ù†Ù‚Ø± Ø¹Ù„Ù‰ Ø²Ø± Ø§Ù„ØªÙˆÙ‚Ù');
        addClickEffect(e.target);
        playSound(elements.clickSound);
        stopSelection();
      });

      elements.removeBtn.addEventListener('click', (e) => {
        console.log('âŒ ØªÙ… Ø§Ù„Ù†Ù‚Ø± Ø¹Ù„Ù‰ Ø²Ø± Ø§Ù„Ø§Ø³ØªØ¨Ø¹Ø§Ø¯');
        addClickEffect(e.target);
        playSound(elements.clickSound);
        
        if (confirm(`Ù‡Ù„ ØªØ±ÙŠØ¯ Ø§Ø³ØªØ¨Ø¹Ø§Ø¯ "${currentSelectedName}" Ù…Ù† Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©ØŸ`)) {
          removeSelectedStudent();
        }
      });

      elements.resetBtn.addEventListener('click', (e) => {
        console.log('ğŸ”„ ØªÙ… Ø§Ù„Ù†Ù‚Ø± Ø¹Ù„Ù‰ Ø²Ø± Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªØ¹ÙŠÙŠÙ†');
        addClickEffect(e.target);
        playSound(elements.clickSound);
        
        if (confirm('Ù‡Ù„ ØªØ±ÙŠØ¯ Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ù†Ø´Ø§Ø· ÙˆØ¥Ø±Ø¬Ø§Ø¹ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø·Ù„Ø§Ø¨ØŸ')) {
          resetActivity();
        }
      });

      // Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø³Ø±Ø¹Ø© ÙˆØ§Ù„Ù…Ø¯Ø©
      elements.speedSlider.addEventListener('input', updateSpeedSettings);
      elements.durationSlider.addEventListener('input', updateSpeedSettings);

      // Ø£Ø²Ø±Ø§Ø± Ø§Ù„ØªØ­ÙƒÙ… Ø§Ù„Ø¹Ù„ÙˆÙŠØ©
      elements.fullscreenBtn.addEventListener('click', (e) => {
        console.log('ğŸ–¥ï¸ ØªÙ… Ø§Ù„Ù†Ù‚Ø± Ø¹Ù„Ù‰ Ø²Ø± Ù…Ù„Ø¡ Ø§Ù„Ø´Ø§Ø´Ø©');
        addClickEffect(e.target);
        playSound(elements.clickSound);
        toggleFullScreen();
      });

      elements.backBtn.addEventListener('click', (e) => {
        console.log('ğŸ  ØªÙ… Ø§Ù„Ù†Ù‚Ø± Ø¹Ù„Ù‰ Ø²Ø± Ø§Ù„Ø¹ÙˆØ¯Ø©');
        addClickEffect(e.target);
        playSound(elements.clickSound);
        
        // ØªØ£Ø«ÙŠØ± Ø§Ù†ØªÙ‚Ø§Ù„ Ø³Ù„Ø³
        document.body.style.opacity = '0';
        document.body.style.transform = 'scale(0.95)';
        
        setTimeout(() => {
          window.location.href = '../main.html';
        }, 300);
      });

      // Ø§Ø®ØªØµØ§Ø±Ø§Øª Ù„ÙˆØ­Ø© Ø§Ù„Ù…ÙØ§ØªÙŠØ­
      document.addEventListener('keydown', (e) => {
        switch(e.key) {
          case 'Enter':
          case ' ':
            if (!isRolling && !elements.startBtn.disabled) {
              e.preventDefault();
              elements.startBtn.click();
            } else if (isRolling) {
              e.preventDefault();
              elements.stopBtn.click();
            }
            break;
          case 'Escape':
            if (isRolling) {
              elements.stopBtn.click();
            } else if (document.fullscreenElement) {
              document.exitFullscreen();
            }
            break;
          case 'F11':
            e.preventDefault();
            toggleFullScreen();
            break;
          case 'r':
          case 'R':
            if (e.ctrlKey || e.metaKey) {
              e.preventDefault();
              elements.resetBtn.click();
            }
            break;
          case 'Delete':
          case 'Backspace':
            if (!isRolling && currentSelectedName) {
              e.preventDefault();
              elements.removeBtn.click();
            }
            break;
        }
      });

      console.log('âœ… ØªÙ… ØªÙ‡ÙŠØ¦Ø© Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ø­Ø¯Ø§Ø« Ø¨Ù†Ø¬Ø§Ø­!');
    });

    // Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø£Ø®Ø·Ø§Ø¡ Ø§Ù„Ø¹Ø§Ù…Ø©
    window.addEventListener('error', (e) => {
      console.error('ğŸ’¥ Ø®Ø·Ø£ Ø¹Ø§Ù… ÙÙŠ Ø§Ù„Ù†Ø´Ø§Ø·:', e.error);
    });

    window.addEventListener('unhandledrejection', (e) => {
      console.error('ğŸ’¥ Ø®Ø·Ø£ ØºÙŠØ± Ù…Ø¹Ø§Ù„Ø¬ ÙÙŠ Promise:', e.reason);
    });

    console.log('ğŸ“ ØªÙ… ØªØ­Ù…ÙŠÙ„ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù†ØµÙˆØµ Ø§Ù„Ø¨Ø±Ù…Ø¬ÙŠØ© Ù„Ù„Ù†Ø´Ø§Ø·!');
  </script>
</body>
</html>
